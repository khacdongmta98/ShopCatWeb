@model IEnumerable<CatShop.Models.CatCustomModel>

<script src="~/Content/vendors/jquery/jquery-3.2.1.min.js"></script>

<link href="~/Content/css/defaultSize.css" rel="stylesheet" />

<section class="section-margin--small mb-5">
    <div class="container">
      <div class="row">
        <div class="col-xl-3 col-lg-4 col-md-5">
          <div class="sidebar-categories">
            <div class="head">Browse Categories</div>
            <ul class="main-categories">
              <li class="common-filter">
                <form action="#">
                  <ul>
                    <li class="filter-list"><input class="pixel-radio" type="radio" id="ML01" name="brand"><label for="men">Mèo Anh lông dài<span> (3600)</span></label></li>
                    <li class="filter-list"><input class="pixel-radio" type="radio" id="ML02" name="brand"><label for="women">Mèo lông ngắn<span> (3600)</span></label></li>
                    <li class="filter-list"><input class="pixel-radio" type="radio" id="ML03" name="brand"><label for="accessories">Mèo Ba Tư<span> (3600)</span></label></li>
                    <li class="filter-list"><input class="pixel-radio" type="radio" id="ML04" name="brand"><label for="footwear">Mèo mướp<span> (3600)</span></label></li>
                    <li class="filter-list"><input class="pixel-radio" type="radio" id="ML05" name="brand"><label for="bayItem">Mèo tai cụp<span> (3600)</span></label></li>
                    <li class="filter-list"><input class="pixel-radio" type="radio" id="ML06" name="brand"><label for="electronics">Mèo vàng<span> (3600)</span></label></li>
                  </ul>
                </form>
              </li>
            </ul>
          </div>
          <div class="sidebar-filter">
            <div class="top-filter-head">Product Filters</div>
            <div class="common-filter">
              <div class="head">Brands</div>
              <form action="#">
                <ul>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="apple" name="brand"><label for="apple">Apple<span>(29)</span></label></li>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="asus" name="brand"><label for="asus">Asus<span>(29)</span></label></li>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="gionee" name="brand"><label for="gionee">Gionee<span>(19)</span></label></li>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="micromax" name="brand"><label for="micromax">Micromax<span>(19)</span></label></li>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="samsung" name="brand"><label for="samsung">Samsung<span>(19)</span></label></li>
                </ul>
              </form>
            </div>
            <div class="common-filter">
              <div class="head">Color</div>
              <form action="#">
                <ul>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="black" name="color"><label for="black">Black<span>(29)</span></label></li>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="balckleather" name="color"><label for="balckleather">Black
                      Leather<span>(29)</span></label></li>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="blackred" name="color"><label for="blackred">Black
                      with red<span>(19)</span></label></li>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="gold" name="color"><label for="gold">Gold<span>(19)</span></label></li>
                  <li class="filter-list"><input class="pixel-radio" type="radio" id="spacegrey" name="color"><label for="spacegrey">Spacegrey<span>(19)</span></label></li>
                </ul>
              </form>
            </div>
            <div class="common-filter">
              <div class="head">Price</div>
              <div class="price-range-area">
                <div id="price-range"></div>
                <div class="value-wrapper d-flex">
                  <div class="price">Price:</div>
                  <span>$</span>
                  <div id="lower-value"></div>
                  <div class="to">to</div>
                  <span>$</span>
                  <div id="upper-value"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-9 col-lg-8 col-md-7">
          <!-- Start Filter Bar -->
          <div class="filter-bar d-flex flex-wrap align-items-center">
            <div class="sorting">
              <select>
                <option value="1">Default sorting</option>
                <option value="1">Default sorting</option>
                <option value="1">Default sorting</option>
              </select>
            </div>
            <div class="sorting mr-auto">
              <select>
                <option value="1">Show 12</option>
                <option value="1">Show 12</option>
                <option value="1">Show 12</option>
              </select>
            </div>
            <div>
              <div class="input-group filter-bar-search">
                <input type="text" placeholder="Search">
                <div class="input-group-append">
                  <button type="button"><i class="ti-search"></i></button>
                </div>
              </div>
            </div>
          </div>
          <!-- End Filter Bar -->
          <!-- Start Best Seller -->
          <section class="lattest-product-area pb-40 category-list">

            <div class="row procduct_section" id="row_product">
                @foreach(var item in Model)
                {
                    
                  <div class="col-md-6 col-lg-4">
                    <div class="card text-center card-product" id= "@item.Id" onclick="aa(this)" >
                      <div class="card-product__img">
                        <img class="card-img img-section-start" src="~/@item.img" alt="" data-toggle="modal" data-target="#modalQuickView">
                        <ul class="card-product__imgOverlay">
                          <li><button><i class="ti-search"></i></button></li>
                          <li><button><i class="ti-shopping-cart"></i></button></li>
                          <li><button><i class="ti-heart"></i></button></li>
                        </ul>
                      </div>
                      <div class="card-body">
                        <p>Accessories</p>
                        <h4 class="card-product__title"><a href="#">@item.luot_like like</a></h4>
                        <p class="card-product__price">@item.TenLoaiMeo</p>
                      </div>
                    </div>
                  </div>
                }
             
            </div>
          </section>
          <!-- End Best Seller -->
        </div>
      </div>
    </div>
  </section>
  <script src="~/Content/js/ajax.js"></script>


@* get data from server to render into modal *@
    <script>
        var myClass = document.getElementsByClassName('card-product');

        function indexInClass(node) {
            var className = node.className;
            var num = 0;
            for (var i = 0; i < myClass.length; i++) {
                if (myClass[i] === node) {
                    return num;
                }
                num++;
            }
            return -1;
        }


        function aa(el) {
            console.log(indexInClass(el));

            var data = $(el).attr("id");

            $.ajax({
                url: "GetOnlyCat",
                type: "GET",
                data: { IDCat: data },
                success: function (data) {
                    for (var i = 0; i < data.length; i++) {
                        //console.log(data[i].img +'sfasdf'+data[i].GiaBan);
                        //$('.card-body').html(data[i].img);
                        $('#modalQuickView img').attr('src', '../' + data[i].img);
                        //$('.d-block .w-100').attr('src', data[i].img);
                        $('.green-text strong').html(data[i].GiaBan);
                        $('.card-body').html(data[i].DacDiemNoiBat);
                    }
                },
                error: function () {
                    console.log('error');
                }
            });

        }



    </script>